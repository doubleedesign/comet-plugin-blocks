{"version":3,"file":"ColorControls.dist.js","sources":["ColorControls.jsx"],"sourcesContent":["/* global wp */\r\nimport { PanelBody, Dropdown, Button, ColorIndicator, ColorPalette, GradientPicker } from '@wordpress/components';\r\nimport { useEffect, useMemo, useRef, useState } from '@wordpress/element';\r\n\r\nexport const ColorControls = ({name, attributes, setAttributes}) => {\r\n\tif (!Object.keys(attributes).some(attr => ['colorTheme', 'backgroundColor'].includes(attr))) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet palette = Object.entries(comet?.palette)\r\n\t\t\t?.filter(([key, value]) => !['black', 'white'].includes(key))\r\n\t\t\t?.map(([key, value]) => ({slug: key, name: key, color: value}))\r\n\t\t?? wp.data.select('core/block-editor').getSettings().colors;\r\n\r\n\t// Most blocks shouldn't have access to the status/message type colours, only brand colours, whereas others are the opposite\r\n\tif (['comet/callout'].includes(name)) {\r\n\t\tpalette = palette.filter(color => ['error', 'success', 'info', 'warning'].includes(color.slug));\r\n\t} else if (['comet/separator', 'comet/copy', 'comet/copy-image'].includes(name)) {\r\n\t\tpalette = palette.filter(color => !['error', 'success', 'info', 'warning', 'light'].includes(color.slug));\r\n\t} else {\r\n\t\tpalette = palette.filter(color => !['error', 'success', 'info', 'warning'].includes(color.slug));\r\n\t}\r\n\r\n\tif (!palette || palette.length === 0) {\r\n\t\t// eslint-disable-next-line max-len\r\n\t\tconsole.error('No colour palette found in component library configuration. You can use theme.json or the comet_canvas_theme_colours filter to add colours. Developers: See set_colours() in ThemeStyle.php in the plugin source for more implementation details.');\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst componentDefault = comet?.defaults[name.replace('comet/', '')] ?? {};\r\n\tconst startValues = {\r\n\t\tcolorTheme: attributes?.colorTheme ?? componentDefault?.colorTheme ?? null,\r\n\t\tbackgroundColor: attributes?.backgroundColor ?? componentDefault?.backgroundColor ?? null,\r\n\t};\r\n\r\n\r\n\t// Use refs to keep track of the presence of attribute support without the fields disappearing when the colour field is cleared\r\n\tconst hasColorThemeSupport = useRef(!!startValues.colorTheme);\r\n\tconst hasBackgroundColorSupport = useRef(!!startValues.backgroundColor);\r\n\r\n\tif (!hasColorThemeSupport.current && !hasBackgroundColorSupport.current) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst [foregroundColor, setForegroundColor] = useState(startValues.colorTheme);\r\n\tconst [backgroundColor, setBackgroundColor] = useState(startValues.backgroundColor);\r\n\r\n\tconst getValueByColorName = (colorName) => {\r\n\t\tconst color = palette.find((c) => c.slug === colorName);\r\n\r\n\t\treturn color ? color.color : colorName;\r\n\t};\r\n\r\n\tconst handleThemeChange = (name) => {\r\n\t\tsetForegroundColor(name);\r\n\t\tsetAttributes({colorTheme: name ?? ''});\r\n\t};\r\n\r\n\tconst handleBackgroundChange = (name) => {\r\n\t\tsetBackgroundColor(name);\r\n\t\tsetAttributes({backgroundColor: name ?? ''});\r\n\t};\r\n\r\n\t// If background colour is not supported, provide single colour theme option\r\n\tif (!hasBackgroundColorSupport.current) {\r\n\t\treturn (\r\n\t\t\t<div className=\"comet-color-controls__item\">\r\n\t\t\t\t<ColorPaletteDropdown\r\n\t\t\t\t\tlabel=\"Theme\"\r\n\t\t\t\t\thexValue={getValueByColorName(attributes?.colorTheme) ?? ''}\r\n\t\t\t\t\tpalette={palette}\r\n\t\t\t\t\tonChange={handleThemeChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\t// If both colour theme and background colour are available, provide colour pair selection\r\n\treturn (\r\n\t\t<div className=\"comet-color-controls__item\">\r\n\t\t\t<ColorPairPaletteDropdown\r\n\t\t\t\tlabel=\"Theme\"\r\n\t\t\t\tvalue={{\r\n\t\t\t\t\tforeground: foregroundColor,\r\n\t\t\t\t\tbackground: backgroundColor,\r\n\t\t\t\t}}\r\n\t\t\t\tblockName={name.split('/')[1]}\r\n\t\t\t\tpairs={comet?.colourPairs ?? []}\r\n\t\t\t\tonChange={(newValue) => {\r\n\t\t\t\t\thandleThemeChange(newValue.foreground);\r\n\t\t\t\t\thandleBackgroundChange(newValue.background);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction ColorPaletteDropdown({label, hexValue, palette, onChange}) {\r\n\tconst [hex, setHex] = useState(hexValue);\r\n\tconst triggerRef = useRef();\r\n\r\n\tconst getNameByColorValue = (colorValue) => {\r\n\t\tconst color = palette.find((c) => c.color === colorValue);\r\n\r\n\t\treturn color ? color.slug : colorValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\trenderToggle={({onToggle, isOpen}) => (\r\n\t\t\t\t<Button onClick={onToggle}\r\n\t\t\t\t        aria-expanded={isOpen}\r\n\t\t\t\t        ref={triggerRef}\r\n\t\t\t\t        __next40pxDefaultSize\r\n\t\t\t\t>\r\n\t\t\t\t\t<ColorIndicator colorValue={hex}/>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t\trenderContent={({onToggle}) => (\r\n\t\t\t\t<ColorPalette\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\tvalue={hex}\r\n\t\t\t\t\tcolors={palette}\r\n\t\t\t\t\tonChange={(color) => {\r\n\t\t\t\t\t\tsetHex(color ?? '');\r\n\t\t\t\t\t\tonChange(getNameByColorValue(color));\r\n\t\t\t\t\t\tonToggle(); // close dropdown after selection\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nfunction ColorPairPaletteDropdown({blockName, label, value, pairs, onChange}) {\r\n\tconst [foreground, setForeground] = useState(value?.foreground ?? '');\r\n\tconst [background, setBackground] = useState(value?.background !== 'transparent' ? value?.background : (comet?.globalBackground ?? 'white'));\r\n\tconst triggerRef = useRef();\r\n\r\n\tconst palette = pairs.map((pair) => ({\r\n\t\tname: `${pair.foreground} on ${pair.background}`,\r\n\t\tslug: `${pair.foreground}-${pair.background}`,\r\n\t\tgradient: `linear-gradient(135deg, var(--color-${pair.foreground}) 0%, var(--color-${pair.foreground}) 50%, var(--color-${pair.background}) 50%, var(--color-${pair.background}) 100%)`,\r\n\t}));\r\n\r\n\tconst gradientPreview = useMemo(() => {\r\n\t\treturn `linear-gradient(135deg, var(--color-${foreground}) 0%, var(--color-${foreground}) 50%, var(--color-${background}) 50%, var(--color-${background}) 100%)`;\r\n\t}, [foreground, background]);\r\n\r\n\tconst handleChange = (newValue) => {\r\n\t\t// New value is the gradient string; find the matching palette object\r\n\t\tconst matchedPair = palette.find((pair) => pair.gradient === newValue);\r\n\r\n\t\tif (matchedPair) {\r\n\t\t\tconst [newForeground, newBackground] = matchedPair.slug.split('-');\r\n\t\t\tsetForeground(newForeground);\r\n\t\t\tsetBackground(newBackground);\r\n\t\t\tonChange({\r\n\t\t\t\tforeground: newForeground,\r\n\t\t\t\tbackground: newBackground,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\trenderToggle={({onToggle, isOpen}) => (\r\n\t\t\t\t<Button onClick={onToggle}\r\n\t\t\t\t        aria-expanded={isOpen}\r\n\t\t\t\t        ref={triggerRef}\r\n\t\t\t\t        __next40pxDefaultSize\r\n\t\t\t\t>\r\n\t\t\t\t\t<ColorIndicator colorValue={gradientPreview}/>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</Button>\r\n\t\t\t)}\r\n\t\t\trenderContent={({isOpen, onToggle}) => (\r\n\t\t\t\t<GradientPicker\r\n\t\t\t\t\tlabel={label}\r\n\t\t\t\t\tvalue={gradientPreview}\r\n\t\t\t\t\tgradients={palette}\r\n\t\t\t\t\tdisableCustomGradients={true}\r\n\t\t\t\t\tclassName={`comet-color-controls comet-color-controls--${blockName}`}\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\thandleChange(value);\r\n\t\t\t\t\t\tonToggle(); // close dropdown after selection\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t/>\r\n\t);\r\n}\r\n"],"names":["PanelBody","Dropdown","Button","ColorIndicator","ColorPalette","GradientPicker","wp","components","useEffect","useMemo","useRef","useState","element","ColorControls","name","attributes","setAttributes","Object","keys","some","attr","includes","palette","entries","comet","filter","key","value","map","slug","color","data","select","getSettings","colors","length","console","error","componentDefault","defaults","replace","startValues","colorTheme","backgroundColor","hasColorThemeSupport","hasBackgroundColorSupport","current","foregroundColor","setForegroundColor","setBackgroundColor","getValueByColorName","colorName","find","c","handleThemeChange","handleBackgroundChange","React","createElement","className","ColorPaletteDropdown","label","hexValue","onChange","ColorPairPaletteDropdown","foreground","background","blockName","split","pairs","colourPairs","newValue","hex","setHex","triggerRef","getNameByColorValue","colorValue","renderToggle","onToggle","isOpen","onClick","ref","__next40pxDefaultSize","renderContent","setForeground","setBackground","globalBackground","pair","gradient","gradientPreview","handleChange","matchedPair","newForeground","newBackground","gradients","disableCustomGradients"],"mappings":"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"}